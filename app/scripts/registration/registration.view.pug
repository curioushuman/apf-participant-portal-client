section
  
  div.header(layout='row', layout-padding, md-colors="{background: 'default-primary'}")
    img.logo(
      ng-src='/images/APF-logo-main-1x.png',
      alt='Asia Pacific Forum logo'
    )
    
  div.subheader(layout='row', md-colors="{background: 'default-primary-hue-1'}")
    h1.md-title Register for 
      span {{ vm.page.action.Name }}
    
  gz-action-hero(
    action='vm.page.action'
  )

section(ng-show='vm.page.action.loaded')
  
  //- Content
  div.content

    md-content(layout-padding, layout='row', layout-xs='column')
      
      //- Help text
      div(flex-xs, flex-gt-sm='50', layout='column')
        md-card
          md-card-title(ng-hide="vm.page.action.formStatus === 'closed'")
            md-card-title-text
              span.md-headline To complete this form
          md-card-content
            div(ng-hide="vm.page.action.formStatus === 'closed'")
              p {{ vm.page.action.Help_text__c }}
              md-list
                md-divider
                md-list-item
                  div.md-list-item-text
                    p Registrations close 
                      strong {{ vm.page.action.registrationDate }}
                md-divider
                md-list-item
                  div.md-list-item-text
                    p You can 
                      md-icon.material-icons.md-primary save
                      strong  save and return 
                      | to this form at any time
                md-divider
                md-list-item
                  div.md-list-item-text
                    p Enter your email address to 
                      strong begin or resume 
                      | your registration
                md-divider
            div(
              layout='row',
              layout-xs='column',
              ng-show='vm.page.action.startDate !== undefined || vm.page.action.finishDate !== undefined'
              )
              md-list(flex='50')
                md-list-item.md-2-line
                  //- md-icon.material-icons event
                  div.md-list-item-text
                    h3 Event begins
                    h4 {{ vm.page.action.startDate }}
              md-list(flex)
                md-list-item.md-2-line
                  //- md-icon.material-icons event
                  div.md-list-item-text
                    h3 Event ends
                    h4 {{ vm.page.action.finishDate }}

        gz-supporting-text(
          content='vm.page.action.Selection_criteria__c',
          title='Participants must',
          display='list',
          ng-hide="vm.page.action.formStatus === 'closed'"
        )
        gz-supporting-text(
          content='vm.page.action.Ideal_candidate__c',
          title='Ideal candidates will have one or more of',
          display='list',
          ng-hide="vm.page.action.formStatus === 'closed'"
        )
        gz-supporting-text(
          content='vm.page.action.Supporting_text__c',
          display='html',
          ng-hide="vm.page.action.formStatus === 'closed'"
        )

      //- Form
      div(flex, layout='column')
        
        //- If form is closed
        gz-closed(
          status='vm.page.action.formStatus',
          owner-id='vm.page.action.OwnerId'
        )
        
        //- Thank you section
        md-card(
          ng-show="vm.page.action.formStatus === 'complete'"
        )
          md-card-header(md-colors="{background: 'default-primary-hue-2'}")
            md-card-avatar
              img(
                ng-src='/images/APF-logo-circle.png',
                alt='Asia Pacific Forum logo'
              )
            md-card-header-text
              span.md-headline Registration complete
          md-card-content
            p Thank you for taking the time to complete our application form. 
              | Someone from the APF wil be in contact soon.
              
        //- Saved section
        md-card(
          ng-show="vm.page.action.formStatus === 'saved'"
        )
          md-card-header(md-colors="{background: 'default-primary-hue-2'}")
            md-card-avatar
              img(
                ng-src='/images/APF-logo-circle.png',
                alt='Asia Pacific Forum logo'
              )
            md-card-header-text
              span.md-headline Registration saved
          md-card-content
            p Your registration information has been saved. Return at any time 
              | to complete your registration.
            md-list
              md-divider
              md-list-item
                div.md-list-item-text
                  p Registrations close 
                    strong {{ vm.page.action.registrationDate }}
              md-divider
          md-card-actions(layout='row', layout-align='end center', layout-padding)
            md-button.md-accent.md-raised(
              ng-click="vm.page.resume()"
            ) 
              | Resume
              md-icon.md-material-icons navigate_next
        
        //- the form
        form(
          name='form',
          ng-submit='form.$valid',
          ng-show="vm.page.action.formStatus === 'open'"
        )

          gz-section(page='vm.page', form='form')
            gz-section-email(
              page='vm.page',
              form='form'
            )

          gz-section(page='vm.page', form='form')
            gz-section-personal(
              page='vm.page',
              form='form'
            )
            
          gz-section(page='vm.page', form='form')
            gz-section-contact(
              page='vm.page',
              form='form'
            )

          gz-section(page='vm.page', form='form')
            gz-section-organisation(
              page='vm.page',
              form='form'
            )
            
          gz-section(page='vm.page', form='form')
            gz-section-experience(
              page='vm.page',
              form='form'
            )
          
          gz-section(page='vm.page', form='form')
            gz-section-it-skills(
              page='vm.page',
              form='form'
            )
          
          gz-section(page='vm.page', form='form')
            gz-section-english-skills(
              page='vm.page',
              form='form'
            )
          
          gz-section(page='vm.page', form='form')
            gz-section-expectations(
              page='vm.page',
              form='form'
            )
          
          gz-section(page='vm.page', form='form')
            gz-section-sessions(
              page='vm.page',
              form='form'
            )

  div.footer(layout='row', layout-padding, md-colors="{background: 'default-background-hue-3'}")
    img.logo-icon(
      ng-src='/images/APF-logo-footer-2x.png',
      alt='Asia Pacific Forum logo'
    )
    p 2017 The Asia Pacific Forum of National Human Rights 
      | Institutions. 
      a(
        href='http://asiapacificforum.net/accessibility-policy/',
        title='The accessibility policy of the APF'
      )
        | Accessibility policy
      |  -&nbsp;
      a(
        href='http://asiapacificforum.net/terms-and-conditions/',
        title='The terms and conditions of the APF'
      )
        | Terms and conditions
